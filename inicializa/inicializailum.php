<?php
  //valores de los luminometros para iluminaciÃ³n

  $array = array(
  			"1" => array(
  				"marca" => "EXTECH",
  				"modelo" => "407026",
  				"serie" => "Q577569",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1.03,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 506,
  						"Correccion1" => 1.05,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 703,
  						"Correccion1" => 1.03,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 998,
  						"Correccion1" => 1.04,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 2000,
  						"Correccion1" => 1.03,
  						"Correccion2" => 0)
  					)),
  			"2" => array(
  				"marca" => "EXTECH",
  				"modelo" => "407026",
  				"serie" => "Q607874",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 0.9851,
  						"Correccion2" => 2.0603),
  					array(
  						"Rango" => 2000,
  						"Correccion1" => 0.9467,
  						"Correccion2" => 94.6591)
  					)),
  			"3" => array(
  				"marca" => "International Light",
  				"modelo" => "IL 1400 A",
  				"serie" => "4480",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 0.9904,
  						"Correccion2" => 0.1824)
  					)),
  			"4" => array(
  				"marca" => "SPER SCIENTIFIC",
  				"modelo" => "840020",
  				"serie" => "Q438148",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 40,
  						"Correccion1" => 0.9803,
  						"Correccion2" => -0.4887),
  					array(
  						"Rango" => 400,
  						"Correccion1" => 0.9526,
  						"Correccion2" => 25.3622),
  					array(
  						"Rango" => 4000,
  						"Correccion1" => 0.9511,
  						"Correccion2" => 199.1765)
  					)),
  			"5" => array(
  				"marca" => "EXTECH",
  				"modelo" => "407026",
  				"serie" => "L829675",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1.07,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 506,
  						"Correccion1" => 1.08,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 703,
  						"Correccion1" => 1.06,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 998,
  						"Correccion1" => 1.07,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 2000,
  						"Correccion1" => 1.04,
  						"Correccion2" => 0)
  					)),
  			"6" => array(
  				"marca" => "TESTO",
  				"modelo" => "545",
  				"serie" => "01731074t909",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 0.99,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 506,
  						"Correccion1" => 1.01,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 703,
  						"Correccion1" => 1,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 998,
  						"Correccion1" => 1.02,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 2000,
  						"Correccion1" => 1.02,
  						"Correccion2" => 0)
  					)),
  			"7" => array(
  				"marca" => "EXTECH",
  				"modelo" => "EA31",
  				"serie" => "101006379",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 0.97,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 506,
  						"Correccion1" => 0.99,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 998,
  						"Correccion1" => 1,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 2000,
  						"Correccion1" => 1.01,
  						"Correccion2" => 0)
  					)),
  			"8" => array(
  				"marca" => "EXTECH",
  				"modelo" => "407026",
  				"serie" => "Q566981",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 303,
  						"Correccion1" => 1.0,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 506,
  						"Correccion1" => 1.03,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 703,
  						"Correccion1" => 1.02,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 998,
  						"Correccion1" => 1.03,
  						"Correccion2" => 0),
  					array(
  						"Rango" => 2000,
  						"Correccion1" => 1.01,
  						"Correccion2" => 0)
  					)),
  			"9" => array(
  				"marca" => "EXTECH",
  				"modelo" => "407026",
  				"serie" => "Q293655",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 0.9887,
  						"Correccion2" => -1.1741),
  					array(
  						"Rango" => 2000,
  						"Correccion1" => 1.0545,
  						"Correccion2" => -34.2483)
  					)),
  			"10" => array(
  				"marca" => "International Light",
  				"modelo" => "IL400A",
  				"serie" => "5433",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 0.9883,
  						"Correccion2" => -0.4167)
  					)),
  			"11" => array(
  				"marca" => "International Light",
  				"modelo" => "IL 1400 A",
  				"serie" => "6250",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 0.9957,
  						"Correccion2" => -1.1258)
  					)),
  			"12" => array(
  				"marca" => "LUTRON",
  				"modelo" => "YK-10LX",
  				"serie" => "15273",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1.0069,
  						"Correccion2" => -1.1633),
  					array(
  						"Rango" => 2000,
  						"Correccion1" => 1.0276,
  						"Correccion2" => -17.1084)
  					)),
  			"13" => array(
  				"marca" => "TESTO",
  				"modelo" => "545",
  				"serie" => "00902922/311",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1.0346,
  						"Correccion2" => -7.6171)
  					)),
  			"14" => array(
  				"marca" => "TESTO",
  				"modelo" => "545",
  				"serie" => "01200990/603",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1.0092,
  						"Correccion2" => -3.5345)
  					)),
  			"15" => array(
  				"marca" => "TESTO",
  				"modelo" => "545",
  				"serie" => "01911760/009",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1.0437,
  						"Correccion2" => -5.9109)
  					)),
  			"16" => array(
  				"marca" => "TESTO",
  				"modelo" => "545",
  				"serie" => "02098179/105",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1.0112,
  						"Correccion2" => -0.3782)
  					)),
  			"17" => array(
  				"marca" => "LUTRON",
  				"modelo" => "YK-10LX",
  				"serie" => "Q554572",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1.0387,
  						"Correccion2" => -5.3529)
  					)),
  			"18" => array(
  				"marca" => "EXTECH",
  				"modelo" => "407026",
  				"serie" => "Q638142",
  				"intervalos" => array(
  					array(
  						"Rango" => 0,
  						"Correccion1" => 1.0306,
  						"Correccion2" => -2.3224),
  					array(
  						"Rango" => 2000,
  						"Correccion1" => 0.9995,
  						"Correccion2" => 36.8853)
  					))
  			);

  include $_SERVER['DOCUMENT_ROOT'].'/reportes/includes/conectadb.inc.php';

  foreach ($array as $key => $value) {
  	$sql='INSERT INTO luminometrostbl SET
		marca='.$value["marca"].',
		modelo='.$value["modelo"].',
		serie='.$value["serie"].',
		intervalos='.json_encode($value["intervalos"]);
	echo "<br>";
	echo $sql;
  }
  foreach ($array as $key => $value) {
	  try
	  {
		$sql='INSERT INTO luminometrostbl SET
			marca=\''.$value["marca"].'\',
			modelo=\''.$value["modelo"].'\',
			serie=\''.$value["serie"].'\',
			intervalos=\''.json_encode($value["intervalos"]).'\'';
		$pdo->exec($sql);
		}
		catch (PDOExeption $e)
		{
		  $pdo->rollbak();
		  $mensaje='Hubo un error tratando de colocar los valores iniciales de la norma 001'.$e;
		  include 'error.html.php';
		  exit();
	  }
	}
	echo 'los valores iniciales se han colocado correctamente';
?>

